/* Firefox userChrome.css tweaks ********************************************************/
/* Github: https://github.com/aris-t2/customcssforfx ************************************/
/****************************************************************************************/


:root {
    --megabar_border_roundness: 20px;

    &[lwtheme] {
        --urlbar_border_color: rgba(0, 0, 0, .3);
    }
}

[focused]:not([suppress-focus-border])>.urlbar-background,
#searchbar:focus-within {
    outline: unset !important;
}

.urlbar .urlbar-background,
.urlbar,
:is(.urlbar-input-container, .urlbar-input-container),
#searchbar,
.searchbar-textbox {
    border-radius: var(--megabar_border_roundness) !important;
}

.urlbar[focused]:not([usertyping]) .urlbarView,
.urlbar .search-one-offs,
.urlbar .search-one-offs .search-panel-header,
.urlbar .search-one-offs .search-panel-one-offs-container {
    border-bottom-left-radius: var(--megabar_border_roundness) !important;
    border-bottom-right-radius: var(--megabar_border_roundness) !important;
}

.urlbar .search-one-offs .search-setting-button-compact {
    border-bottom-right-radius: var(--megabar_border_roundness) !important;
}

.urlbar[focused="true"][open] :is(.urlbar-input-container, .urlbar-input-container) {
    border-bottom-left-radius: 0px !important;
    border-bottom-right-radius: 0px !important;
}


.urlbar[open] .urlbar-background,
.urlbar[open],
.urlbar[open] :is(.urlbar-input-container, .urlbar-input-container) {
    border-radius: calc(var(--megabar_border_roundness) / 1.5) !important;
}

.urlbar[focused]:not([usertyping]) .urlbarView,
.urlbar .search-one-offs,
.urlbar .search-one-offs .search-panel-header,
.urlbar .search-one-offs .search-panel-one-offs-container {
    border-bottom-left-radius: calc(var(--megabar_border_roundness) / 1.5) !important;
    border-bottom-right-radius: calc(var(--megabar_border_roundness) / 1.5) !important;
}

.urlbar .search-one-offs .search-setting-button-compact {
    border-bottom-right-radius: calc(var(--megabar_border_roundness) / 1.5) !important;
}

#urlbar-searchmode-switcher {
    border-radius: calc(var(--megabar_border_roundness) / 1.5) !important;
}

#urlbar[breakout] #urlbar-results .urlbarView-body-outer,
#urlbar[breakout] #urlbar-results .urlbarView-row,
#urlbar[breakout] #urlbar-results .urlbarView-row-inner {
    margin-inline-start: 0 !important;
    padding-inline-start: 0 !important;
    margin-inline-end: 0 !important;
    padding-inline-end: 0 !important;
    border-radius: var(--megabar_border_roundness) !important;
}