:root {
    --urlbar-icon-border-radius: 99px !important;
    --uc-toolbarbutton-inner-inline-padding: 4px !important;
    --uc-urlbar-icon-inline-padding: var(--uc-toolbarbutton-inner-inline-padding);
    --uc-urlbar-open-border-radius: 8px !important;
    --uc-urlbar-outline-offset: 1px;
}

#urlbar[focused]:not([suppress-focus-border])>#urlbar-background,
#searchbar:focus-within {
    outline-offset: var(--uc-urlbar-outline-offset) !important;
}

#urlbar-background,
.urlbar-background,
#searchbar {
    border-radius: calc(var(--urlbar-icon-border-radius) + 2px) !important;

    /* Appearance when the URL bar is expanded. */
    #urlbar[open] & {
        border-radius: var(--uc-urlbar-open-border-radius) !important;
        border-color: transparent !important;
        box-shadow: 0 10px 16px rgb(0 0 0 / 0.18), 0 3px 5px rgb(0 0 0 / 0.33) !important;
        outline: 0.5px solid var(--arrowpanel-border-color) !important;

        :root:not([lwtheme]) & {
            outline-color: var(--panel-separator-color) !important;
        }
    }
}

.urlbar-page-action,
#urlbar-go-button,
.search-go-button,
#tracking-protection-icon-container {
    padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
    width: calc(var(--uc-urlbar-icon-inline-padding) * 2 + 16px) !important;
}

/* Site information and Permissions buttons. */
#identity-icon-box,
#identity-permission-box,
.notification-anchor-icon {
    padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
}

/* Zoom level and tab container indicators. */
#userContext-icons,
#urlbar-zoom-button {
    padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
    margin-block: 0 !important;
    margin-inline: 0 !important;
}

/* Move tracking protection button. */
#tracking-protection-icon-container,
#page-action-buttons {
    order: 2 !important;
}

/* Hide tracking protection button when not hovering over URL bar. */
.browser-toolbar:not(:hover) #tracking-protection-icon-container:not([open]) {
    visibility: collapse !important;
}

#page-action-buttons {
    order: 99;
}

#location-bar {
    order: 98;
}

#urlbar[breakout][breakout-extend] {
    margin-left: calc(-1 * var(--urlbar-margin-inline)) !important;

    &[unifiedsearchbutton-available] {
        /** 懒得研究为什么有 1px 的偏移，先用这个 hack 解决 */
        transform: translateX(var(--uc-urlbar-outline-offset)) !important;

        #searchmode-switcher-dropmarker {
            transform: translateX(calc(-1 * var(--uc-urlbar-outline-offset))) !important;
        }
    }
}

.urlbarView-no-wrap {
    min-width: 0 !important;
}

.urlbarView-no-wrap>span:not([title], [label]):empty,
.urlbarView-url:not([title], [label]):empty {
    display: none;
}

.urlbarView-tags:empty {
    display: none !important;
}

/* show search query results that are only space/tab characters
by underlining them (requires urlbarMods.uc.js) */
.urlbarView-title[all-whitespace] {
    text-decoration: underline !important;
    color: var(--panel-shortcut-color);
}

:is(.urlbarView-row, .urlbarView-row-inner)[selected] .urlbarView-title[all-whitespace] {
    color: var(--panel-shortcut-focus);
}

#urlbar {
    /* fix weird bug with semitransparent background colors after bug 1948565.
  without it, buttons in panels are too bright when the arrowcontainer's
  max-width/max-height rule limits the panel's size */
    backface-visibility: hidden !important;
}

.urlbarView {
    /* temporarily give it a background to fix a bug from bug 1948565 */
    /*   background: var(--urlbar-results-bgcolor) !important;
  background-clip: content-box !important; */
    border: none !important;
    font-size: 1.04em !important;
}

.urlbarView .urlbarView-body-inner {
    border-top: none !important;
    margin: revert !important;
    width: revert !important;
}