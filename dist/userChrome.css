@charset "UTF-8";
/********************************************************************************/
/* 参考:                                                                         */
/* https://github.com/QNetITQ/WaveFox                                           */
/********************************************************************************/
/* Windows has 1px missing space on top of window, but not when accent colour is
 * applied to the title bar. */
@media (-moz-platform: windows) and (not (-moz-windows-accent-color-in-titlebar)) {
  :root[sizemode=normal][customtitlebar]:not([inFullscreen]) #navigator-toolbox {
    padding-top: 1px !important;
  }
}
/* Add a shadow when the toolbars move over content, eg. in macOS hovering over
 * the menu bar in fullscreen mode. */
#navigator-toolbox[style*=transform] {
  box-shadow: 0 -3px 5px 3px light-dark(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6)) !important;
}

/* Since Firefox 120, when the bookmarks bar is set to only open on new tabs,
   * the bookmarks bar overlaps the #browser element. */
/* Change the element that shifts the browser content to the correct position. */
#main-window[BookmarksToolbarOverlapsBrowser] .newTabBrowserPanel,
#main-window[BookmarksToolbarOverlapsBrowser] #sidebar-box {
  padding-top: 0 !important;
  margin-top: 0 !important;
}

#main-window[BookmarksToolbarOverlapsBrowser] #browser {
  margin-top: var(--bookmarks-toolbar-overlapping-browser-height);
}

/* Make sure that the toolbars are not positioned in-front of the browser
   * element. */
#main-window[BookmarksToolbarOverlapsBrowser] #navigator-toolbox:not([style*=z-index]) {
  z-index: auto !important;
}

/* Move the browser element in-front of the toolbars when on the new tab page. */
#main-window:not([BookmarksToolbarOverlapsBrowser]) #browser {
  z-index: 1 !important;
}

/* 网页区域圆角 */
@media (-moz-pref("sidebar.revamp")) {
  #sidebar-box {
    padding-bottom: 0 !important;
  }
  #tabbrowser-tabbox,
  #tabbrowser-tabpanels,
  #tabbrowser-tabpanels browser {
    overflow: hidden !important;
    border-radius: var(--border-radius-medium) 0 0 var(--border-radius-medium) !important;
  }
}
@media (-moz-pref("sidebar.revamp")) and (not -moz-pref("sidebar.position_start")) {
  #tabbrowser-tabbox,
  #tabbrowser-tabpanels,
  #tabbrowser-tabpanels browser {
    border-radius: 0 var(--border-radius-medium) var(--border-radius-medium) 0 !important;
  }
}
/********************************************************************************/
/* 参考:                                                                         */
/* https://github.com/QNetITQ/WaveFox                                           */
/********************************************************************************/
@media (-moz-pref("sidebar.verticalTabs", false)) {
  /* ---------------------------------------- Density ---------------------------------------- */
  :root {
    --tab-min-height: 36px !important;
  }
  :root[uidensity=compact] {
    --tab-min-height: 32px !important;
  }
  :root[uidensity=touch] {
    --tab-min-height: 40px !important;
  }
  /* ---------------------------------------- Titlebar ---------------------------------------- */
  :root[customtitlebar] .browser-titlebar {
    will-change: auto !important;
    transition: none !important;
  }
  /* ---------------------------------------- Tabs ---------------------------------------- */
  @media (-moz-pref("extensions.activeThemeID", "default-theme@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-light@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-dark@mozilla.org")) {
    .tabbrowser-tab[visuallyselected] .tab-background {
      background-color: var(--toolbar-bgcolor) !important;
    }
    .tabbrowser-tab[visuallyselected] .tab-content {
      color: var(--toolbar-color) !important;
    }
  }
  .tabbrowser-tab[pinned] .tab-content {
    padding-inline: calc((var(--tab-min-height) - 16px) / 2) !important;
  }
  .tabbrowser-tab:not([pinned]) .tab-content {
    padding-inline: 10px !important;
  }
  .tabbrowser-tab .tab-background {
    border-radius: var(--wavefox-tab-border-radius, 4px) !important;
    box-shadow: none !important;
  }
  .tabbrowser-tab .tab-close-button {
    width: 16px !important;
    height: 16px !important;
    border-radius: 50% !important;
    padding: 2px !important;
    margin: 0px !important;
  }
  /* ---------------------------------------- Indents ---------------------------------------- */
  #pinned-tabs-container {
    margin-inline-end: 0px !important;
  }
  /* ---------------------------------------- Attached tabs ---------------------------------------- */
  :root {
    --left-svg: url("images/left_corners.svg");
    --right-svg: url("images/right_corners.svg");
    --tab-first-last-inline-margin: calc(var(--tab-min-height) / 4);
  }
  /* ---------------------------------------- Main Window ---------------------------------------- */
  :root {
    --tabstrip-min-height: auto !important;
  }
  /* ---------------------------------------- Nav Bar ---------------------------------------- */
  #nav-bar {
    border: none !important;
  }
  /* ---------------------------------------- Tabs ---------------------------------------- */
  @media (-moz-pref("extensions.activeThemeID", "default-theme@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-light@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-dark@mozilla.org")) {
    .tabbrowser-tab[visuallyselected] .tab-background {
      background-color: transparent !important;
      background-image: linear-gradient(to bottom, var(--tab-selected-bgcolor), var(--toolbar-bgcolor)) !important;
    }
  }
  .tabbrowser-tab {
    overflow-clip-margin: var(--tab-first-last-inline-margin) !important;
    padding-inline: 0px !important;
  }
  tab-group[collapsed] > .tabbrowser-tab:not([visuallyselected]) {
    --tab-first-last-inline-margin: 0px;
  }
  .tabbrowser-tab[pinned] .tab-content {
    padding-inline: calc((var(--tab-min-height) - 16px) / 2 + 2px) !important;
  }
  .tabbrowser-tab[visuallyselected] {
    z-index: 2 !important;
  }
  .tabbrowser-tab:not([visuallyselected]) {
    z-index: 0 !important;
  }
  .tabbrowser-tab:not([visuallyselected])[multiselected] {
    z-index: 1 !important;
  }
  .tabbrowser-tab:not([visuallyselected])[multiselected] .tab-background {
    background-color: color-mix(in srgb, currentColor 30%, transparent) !important;
  }
  .tabbrowser-tab:not([visuallyselected])[multiselected] .tab-content {
    color: inherit !important;
  }
  .tabbrowser-tab .tab-background {
    margin-inline: calc(-1 * var(--tab-min-height) / 2) !important;
    margin-block: 0px !important;
    border-radius: 0px !important;
    outline: none !important;
    pointer-events: none !important;
    mask-image: var(--left-svg), linear-gradient(to bottom, black, black), var(--right-svg) !important;
    mask-size: contain !important;
    mask-position: left center, center center, right center !important;
    mask-repeat: no-repeat !important;
    mask-composite: exclude !important;
    mask-mode: alpha !important;
  }
  .tabbrowser-tab .tab-background .tab-context-line {
    margin: 0px !important;
  }
  .tabbrowser-tab .tab-background .tab-loading-burst::before {
    margin-inline-start: 0px !important;
  }
  .tabbrowser-tab .tab-background .tab-group-line {
    inset-inline: 0px !important;
    inset-block: auto 0px !important;
  }
  .tab-group-label-container {
    margin-inline: 0px !important;
    padding-inline: 0px !important;
  }
  .tab-group-label-container::after {
    inset-block: auto 0px !important;
  }
  tab-group:not([collapsed]) > .tab-group-label-container {
    margin-inline-end: 0px !important;
  }
  tab-group + tab-group > .tab-group-label-container, tab-group + .tabbrowser-tab[hidden] + tab-group > .tab-group-label-container {
    margin-inline-start: 0px !important;
  }
  .tabbrowser-tab:not([hidden]) + tab-group > .tab-group-label-container, .tabbrowser-tab:not([hidden]) + .tabbrowser-tab[hidden] + tab-group > .tab-group-label-container {
    margin-inline-start: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed]:has(+ .tabbrowser-tab:not([hidden])) > .tab-group-label-container, tab-group[collapsed]:has(+ .tabbrowser-tab[hidden] + .tabbrowser-tab:not([hidden])) > .tab-group-label-container {
    margin-inline-end: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed]:has(+ .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden]))) > .tab-group-label-container {
    margin-inline-end: 0px !important;
  }
  .tabbrowser-tab:nth-last-child(1 of .tabbrowser-tab:not([hidden])) + tab-group > .tab-group-label-container {
    margin-inline-start: 0px !important;
  }
  #tabbrowser-tabs[overflow] .tab-drop-indicator {
    inset-inline-start: var(--tab-first-last-inline-margin) !important;
  }
  /* -------------------- Tab Icon Indicators -------------------- */
  .tabbrowser-tab:is([image], [pinned]) .tab-content[attention]:not([selected]),
  .tab-content[pinned][titlechanged]:not([selected]) {
    background-position: 50% calc(50% + 12px) !important;
  }
  /* ---------------------------------------- Tab Bar ---------------------------------------- */
  #TabsToolbar #search-container {
    padding-block: 0 !important;
  }
  /* ---------------------------------------- Indents ---------------------------------------- */
  #pinned-tabs-container {
    margin-inline-end: 0px !important;
  }
  .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden], [dragtarget])) {
    margin-inline-start: var(--tab-first-last-inline-margin) !important;
  }
  .tabbrowser-tab:nth-last-child(1 of .tabbrowser-tab:not([hidden], [dragtarget])) {
    margin-inline-end: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed] > .tabbrowser-tab[visuallyselected] {
    margin-inline: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed] + tab-group > .tab-group-label-container,
  tab-group[collapsed] + .tabbrowser-tab[hidden] + tab-group > .tab-group-label-container {
    margin-inline-start: 4px !important;
  }
  .tabbrowser-tab:not([hidden]) + tab-group > .tab-group-label-container,
  .tabbrowser-tab:not([hidden]) + .tabbrowser-tab[hidden] + tab-group > .tab-group-label-container {
    margin-inline-start: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed]:not([hasactivetab]):has(+ .tabbrowser-tab:not([hidden])) > .tab-group-label-container,
  tab-group[collapsed]:not([hasactivetab]):has(+ .tabbrowser-tab[hidden] + .tabbrowser-tab:not([hidden])) > .tab-group-label-container {
    margin-inline-end: var(--tab-first-last-inline-margin) !important;
  }
  tab-group[collapsed]:has(+ .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden]))) > .tab-group-label-container {
    margin-inline-end: 0px !important;
  }
  .tabbrowser-tab:nth-last-child(1 of .tabbrowser-tab:not([hidden])) + tab-group > .tab-group-label-container {
    margin-inline-start: 0px !important;
  }
  /* ---------------------------------------- Tab Scroll Animation ---------------------------------------- */
  #tabbrowser-tabs[overflow]:not([movingtab]) .tabbrowser-tab {
    pointer-events: none !important;
    box-sizing: content-box !important;
    padding-inline: var(--tab-first-last-inline-margin) !important;
    margin-inline: calc(-1 * var(--tab-first-last-inline-margin)) !important;
    overflow-clip-margin: 0px !important;
  }
  #tabbrowser-tabs[overflow]:not([movingtab]) tab-group[collapsed] > .tabbrowser-tab[visuallyselected] {
    margin-inline: 0px !important;
  }
  #tabbrowser-tabs[overflow]:not([movingtab]) .tabbrowser-tab > .tab-stack {
    pointer-events: auto !important;
  }
  #tabbrowser-tabs[overflow]:not([movingtab]) .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden])) {
    margin-inline-start: 0px !important;
  }
  #tabbrowser-tabs[overflow]:not([movingtab]) .tabbrowser-tab:nth-last-child(1 of .tabbrowser-tab:not([hidden])) {
    margin-inline-end: 0px !important;
  }
  /* -------------------- Media Icons -------------------- */
  /* Pinned Tabs */
  .tabbrowser-tab[pinned]:not([crashed]) .tab-icon-overlay {
    background-color: transparent !important;
    background-image: none !important;
    fill: currentColor !important;
    border-radius: 50px !important;
    top: -8px !important;
    inset-inline-end: -8px !important;
  }
  .tabbrowser-tab[pinned]:not([crashed]) .tab-icon-overlay:hover {
    background-color: color-mix(in srgb, currentColor 15%, transparent) !important;
  }
  .tabbrowser-tab[pinned]:not([crashed]) .tab-icon-overlay:hover:active {
    background-color: color-mix(in srgb, currentColor 30%, transparent) !important;
  }
  .tabbrowser-tab[pinned]:not([crashed]):where([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack > :not(.tab-icon-overlay) {
    mask-image: linear-gradient(to bottom, black, black), radial-gradient(circle at right top, black 8px, transparent 9px) !important;
    mask-size: 16px 16px !important;
    mask-position: center center !important;
    mask-repeat: no-repeat !important;
    mask-composite: exclude !important;
    mask-mode: alpha !important;
  }
  :root:-moz-locale-dir(rtl) .tabbrowser-tab[pinned]:not([crashed]):where([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack > :not(.tab-icon-overlay) {
    mask-image: linear-gradient(to bottom, black, black), radial-gradient(circle at left top, black 8px, transparent 9px) !important;
  }
  /* Regular Tabs */
  .tabbrowser-tab:not([pinned], [crashed]) .tab-icon-overlay {
    background-color: currentColor !important;
    border-radius: 50px !important;
    top: 0px !important;
    inset-inline-end: 0px !important;
    mask-image: var(--mask-overlay-background, none), var(--mask-overlay-image, none) !important;
    mask-size: 16px 16px, 12px 12px !important;
    mask-position: center center !important;
    mask-repeat: no-repeat !important;
    mask-mode: alpha !important;
  }
  .tabbrowser-tab:not([pinned], [crashed]) .tab-icon-overlay:hover {
    --mask-overlay-background: linear-gradient(to bottom, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15));
  }
  .tabbrowser-tab:not([pinned], [crashed]) .tab-icon-overlay:hover:active {
    --mask-overlay-background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));
  }
  .tabbrowser-tab:not([pinned], [crashed])[soundplaying] .tab-icon-overlay {
    --mask-overlay-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
  }
  .tabbrowser-tab:not([pinned], [crashed])[muted] .tab-icon-overlay {
    --mask-overlay-image: url("chrome://browser/skin/tabbrowser/tab-audio-muted-small.svg");
  }
  .tabbrowser-tab:not([pinned], [crashed])[activemedia-blocked] .tab-icon-overlay {
    --mask-overlay-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-small.svg");
  }
  .tabbrowser-tab:not([pinned], [crashed]):where([busy], [image], [sharing], [pictureinpicture]) .tab-icon-overlay {
    top: -8px !important;
    inset-inline-end: -8px !important;
  }
  .tabbrowser-tab:not([pinned], [crashed]):where([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack > :not(.tab-icon-overlay) {
    mask-image: linear-gradient(to bottom, black, black), radial-gradient(circle at right top, black 8px, transparent 9px) !important;
    mask-size: 16px 16px !important;
    mask-position: center center !important;
    mask-repeat: no-repeat !important;
    mask-composite: exclude !important;
    mask-mode: alpha !important;
  }
  :root:-moz-locale-dir(rtl) .tabbrowser-tab:not([pinned], [crashed]):where([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack > :not(.tab-icon-overlay) {
    mask-image: linear-gradient(to bottom, black, black), radial-gradient(circle at left top, black 8px, transparent 9px) !important;
  }
  .tabbrowser-tab:not([pinned], [crashed]):where([soundplaying], [muted], [activemedia-blocked]) .tab-icon-overlay {
    display: revert !important;
  }
  .tabbrowser-tab:not([pinned])[fadein] {
    min-width: var(--tab-min-width-pref) !important;
  }
  tab-group[collapsed] > .tabbrowser-tab:not([pinned])[fadein] {
    min-width: 0px !important;
  }
  .tabbrowser-tab:not([pinned]) .tab-icon-stack > * {
    margin-inline-end: 8px !important;
  }
  .tabbrowser-tab:not([pinned]) .tab-audio-button {
    display: none !important;
  }
  /* ---------- Picture-In-Picture ---------- */
  .tabbrowser-tab[pictureinpicture]:not([crashed], [busy]) .tab-icon-stack::before {
    content: "";
    display: block;
    position: absolute;
    width: 16px;
    height: 16px;
    background-color: currentColor;
    mask-size: 16px 16px;
    mask-position: center center;
    mask-repeat: no-repeat;
    mask-mode: alpha;
  }
  :root:-moz-locale-dir(rtl) .tabbrowser-tab[pictureinpicture]:not([crashed], [busy]) .tab-icon-stack::before {
    transform: rotateY(180deg);
  }
  .tabbrowser-tab[pictureinpicture]:not([crashed], [busy]) .tab-icon-stack > :not(.tab-icon-overlay) {
    position: relative !important;
    padding: 2px !important;
    inset-inline-start: 8px !important;
    top: 8px !important;
    mask-image: none !important;
    box-sizing: border-box !important;
    z-index: 1 !important;
  }
  .tabbrowser-tab[pictureinpicture]:not([crashed], [busy]):not([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack::before {
    mask-image: linear-gradient(to bottom, black, black), linear-gradient(to bottom, black, black), url("chrome://global/skin/media/picture-in-picture-open.svg");
    mask-size: 8px 8px, 8px 8px, 16px 16px;
    mask-position: right bottom, right bottom, center center;
    mask-repeat: no-repeat;
    mask-composite: exclude, add;
  }
  .tabbrowser-tab[pictureinpicture]:not([crashed], [busy]):is([soundplaying], [muted], [activemedia-blocked]) .tab-icon-stack::before {
    mask-image: linear-gradient(to bottom, black, black), linear-gradient(to bottom, black, black), url("chrome://global/skin/media/picture-in-picture-open.svg");
    mask-size: 8px 16px, 8px 16px, 16px 16px;
    mask-position: right bottom, right bottom, center center;
    mask-repeat: no-repeat;
    mask-composite: exclude, add;
  }
  /* -------------------- Tab Text -------------------- */
  .tab-label-container {
    height: auto !important;
    font-size: clamp(0px, 1em, 16px) !important;
    mask-image: none !important;
  }
  .tab-label {
    width: 100% !important;
    height: auto !important;
    line-height: normal !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    text-overflow: ellipsis !important;
    margin-block: 0px !important;
  }
  .tab-secondary-label {
    display: none !important;
  }
  /* ---------------------------------------- Firefox View ---------------------------------------- */
  :where(toolbarbutton, toolbarpaletteitem) + #tabbrowser-tabs {
    border-inline-start: none !important;
    padding-inline-start: var(--tab-overflow-pinned-tabs-width) !important;
    margin-inline-start: 0px !important;
  }
  #TabsToolbar #firefox-view-button[open] > .toolbarbutton-icon {
    background-color: var(--toolbarbutton-active-background) !important;
    color: inherit !important;
    box-shadow: none !important;
    outline: none !important;
  }
  /* ---------------------------------------- Tab Bar ---------------------------------------- */
  #TabsToolbar {
    --toolbarbutton-inner-padding: inherit !important;
  }
  /* ---------------------------------------- Indents ---------------------------------------- */
  #TabsToolbar-customization-target > :is(toolbarbutton, toolbaritem):first-child,
  #TabsToolbar-customization-target > toolbarpaletteitem:first-child > :is(toolbarbutton, toolbaritem) {
    margin-inline-start: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) !important;
  }
  #TabsToolbar-customization-target > :is(toolbarbutton, toolbaritem):last-child,
  #TabsToolbar-customization-target > toolbarpaletteitem:last-child > :is(toolbarbutton, toolbaritem) {
    margin-inline-end: calc(var(--toolbar-start-end-padding) - var(--toolbarbutton-outer-padding)) !important;
  }
  .tabbrowser-tab:not([hidden]) + #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button,
  .tabbrowser-tab:not([hidden]) + .tabbrowser-tab[hidden] + #tabbrowser-arrowscrollbox-periphery > #tabs-newtab-button {
    margin-inline-start: calc(-1 * var(--tab-first-last-inline-margin, 0px) / 2) !important;
  }
  /* ---------------------------------------- Separators ---------------------------------------- */
  .tab-stack {
    margin-inline-end: 1px !important;
  }
  .tabbrowser-tab:nth-child(1 of .tabbrowser-tab:not([hidden])) > .tab-stack::before,
  tab-group + .tabbrowser-tab > .tab-stack::before,
  tab-group + .tabbrowser-tab[hidden] + .tabbrowser-tab > .tab-stack::before,
  .tab-stack::after {
    content: "";
    display: block;
    position: absolute;
    width: 1px;
    height: 50%;
    border-inline-end: 1px solid currentColor;
    top: 25%;
    opacity: var(--separators-color-saturation);
    box-sizing: border-box;
    pointer-events: none;
  }
  .tab-stack::before {
    inset-inline-end: calc(100% + var(--tab-overflow-clip-margin));
  }
  .tab-stack::after {
    inset-inline-start: calc(100% + var(--tab-overflow-clip-margin));
  }
  .tabbrowser-tab:not([hidden]):is([selected], :hover, [multiselected], [dragover-createGroup]) .tab-stack::before,
  .tabbrowser-tab:not([hidden]):is([selected], :hover, [multiselected], [dragover-createGroup]) .tab-stack::after,
  .tabbrowser-tab:not([hidden]):has(+ .tabbrowser-tab[dragover-createGroup]) .tab-stack::after,
  #tabbrowser-tabs:not([movingtab]) .tabbrowser-tab:not([hidden]):has(+ .tabbrowser-tab:is([selected], :hover, [multiselected]):not([hidden])) .tab-stack::after,
  #tabbrowser-tabs:not([movingtab]) .tabbrowser-tab:not([hidden]):has(+ .tabbrowser-tab[hidden] + .tabbrowser-tab:is([selected], :hover, [multiselected]):not([hidden])) .tab-stack::after {
    opacity: 0 !important;
  }
  :root {
    --separators-color-saturation: 0.5;
  }
  /* ---------------------------------------- Shadows ---------------------------------------- */
  @media (-moz-pref("extensions.activeThemeID", "default-theme@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-light@mozilla.org")) or (-moz-pref("extensions.activeThemeID", "firefox-compact-dark@mozilla.org")) {
    :root {
      --wavefox-selected-tab-filter-offset-x: 0px;
      --wavefox-selected-tab-filter-offset-y: 0px;
      --wavefox-selected-tab-filter-blur: 2px;
      --wavefox-selected-tab-filter-color: rgb(0, 0, 0);
      --wavefox-selected-tab-shadow-offset-x: 0px;
      --wavefox-selected-tab-shadow-offset-y: 0px;
      --wavefox-selected-tab-shadow-blur: 4px;
      --wavefox-selected-tab-shadow-spread: 0px;
      --wavefox-selected-tab-shadow-color: rgb(0, 0, 0);
      --wavefox-inner-tabbar-shadow-offset-x: 0px;
      --wavefox-inner-tabbar-shadow-offset-y: -4px;
      --wavefox-inner-tabbar-shadow-blur: 4px;
      --wavefox-inner-tabbar-shadow-spread: -4px;
      --wavefox-inner-tabbar-shadow-color: rgb(0, 0, 0);
      --wavefox-selected-tab-filter: drop-shadow(var(--wavefox-selected-tab-filter-offset-x) var(--wavefox-selected-tab-filter-offset-y) var(--wavefox-selected-tab-filter-blur) color-mix(in srgb, var(--wavefox-selected-tab-filter-color) var(--wavefox-filter-shadow-saturation, 0%), transparent));
      --wavefox-selected-tab-shadow: var(--wavefox-selected-tab-shadow-offset-x) var(--wavefox-selected-tab-shadow-offset-y) var(--wavefox-selected-tab-shadow-blur) var(--wavefox-selected-tab-shadow-spread) color-mix(in srgb, var(--wavefox-selected-tab-shadow-color) var(--wavefox-filter-shadow-saturation, 0%), transparent);
      --wavefox-inner-tabbar-shadow: inset var(--wavefox-inner-tabbar-shadow-offset-x) var(--wavefox-inner-tabbar-shadow-offset-y) var(--wavefox-inner-tabbar-shadow-blur) var(--wavefox-inner-tabbar-shadow-spread) color-mix(in srgb, var(--wavefox-inner-tabbar-shadow-color) var(--wavefox-filter-shadow-saturation, 0%), transparent);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --wavefox-filter-shadow-saturation: 20%;
      }
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --wavefox-filter-shadow-saturation: 75%;
      }
    }
    #TabsToolbar {
      position: relative !important;
      clip-path: inset(0px) !important;
    }
    #TabsToolbar::before {
      content: "";
      display: block;
      position: absolute;
      width: 100%;
      height: 100%;
      bottom: 0px;
      inset-inline-start: 0px;
      box-shadow: var(--wavefox-inner-tabbar-shadow);
      pointer-events: none;
      z-index: 2;
    }
    .tabbrowser-tab[visuallyselected] {
      filter: var(--wavefox-selected-tab-filter) !important;
    }
  }
  .titlebar-spacer[type=pre-tabs] {
    display: none !important;
  }
  .titlebar-spacer[type=post-tabs] {
    width: 12px !important;
  }
  /* ---------- Opaque toolbar ---------- */
  /* ---------- DragSpace ---------- */
}
@media (-moz-pref("sidebar.verticalTabs", false)) and (-moz-platform: windows) and (-moz-pref("widget.windows.mica")) and (-moz-pref("extensions.activeThemeID", "default-theme@mozilla.org")) and (-moz-pref("browser.tabs.inTitlebar", 1)) {
  :root {
    --toolbar-bgcolor: light-dark(#f9f9fb, rgb(43, 42, 51)) !important;
  }
}
@media (-moz-pref("sidebar.verticalTabs", false)) and (-moz-pref("extensions.activeThemeID", "default-theme@mozilla.org")) and (-moz-pref("browser.tabs.inTitlebar", 2)) {
  :root {
    --wavefox-selected-tab-filter: none !important;
    --wavefox-selected-tab-shadow: none !important;
    --wavefox-inner-tabbar-shadow: none !important;
  }
  .tabbrowser-tab[visuallyselected] .tab-background,
  #nav-bar,
  #nav-bar::before,
  #PersonalToolbar,
  #notifications-toolbar,
  #sidebar-main,
  #status-bar {
    --toolbar-bgcolor: light-dark(#f9f9fb, rgb(43, 42, 51));
    background-color: var(--toolbar-bgcolor) !important;
  }
  #navigator-toolbox {
    position: relative;
  }
  #navigator-toolbox::after {
    content: "";
    display: block;
    position: absolute;
    bottom: -2px;
    width: 100%;
    height: 2px;
    background-color: var(--toolbar-bgcolor);
    z-index: 1;
  }
}
@media (-moz-pref("sidebar.verticalTabs", false)) {
  :root[sizemode=normal] {
    --drag-space: 8px;
  }
  :root[uidensity=compact][sizemode=normal] {
    --drag-space: 4px;
  }
  #TabsToolbar :is(.tabbrowser-tab, .toolbarbutton-1, separator, #personal-bookmarks, #search-container, .tab-group-label-container, .tab-group-overflow-count-container) {
    margin-top: var(--drag-space, 0px) !important;
  }
}
@media (-moz-pref("sidebar.verticalTabs")) and (-moz-pref("widget.windows.mica")) {
  /* Edge 开启了垂直标签标题栏就没有 Mica 效果了 */
  .browser-toolbox-background,
  #sidebar-main,
  #status-bar {
    --toolbar-color: light-dark(rgb(21, 20, 26), rgb(251, 251, 254));
    --toolbar-bgcolor: light-dark(#f9f9fb, rgb(43, 42, 51));
    color: var(--toolbar-color) !important;
    background-color: var(--toolbar-bgcolor) !important;
  }
}
:root {
  --urlbar-icon-border-radius: 99px !important;
  --uc-toolbarbutton-inner-inline-padding: 4px !important;
  --uc-urlbar-icon-inline-padding: var(--uc-toolbarbutton-inner-inline-padding);
  --uc-urlbar-open-border-radius: 8px !important;
  --uc-urlbar-outline-offset: 1px;
}

#urlbar[focused]:not([suppress-focus-border]) > #urlbar-background,
#searchbar:focus-within {
  outline-offset: var(--uc-urlbar-outline-offset) !important;
}

#urlbar-background,
.urlbar-background,
#searchbar {
  border-radius: calc(var(--urlbar-icon-border-radius) + 2px) !important;
  /* Appearance when the URL bar is expanded. */
}
#urlbar[open] #urlbar-background,
#urlbar[open] .urlbar-background,
#urlbar[open] #searchbar {
  border-radius: var(--uc-urlbar-open-border-radius) !important;
  border-color: transparent !important;
  box-shadow: 0 10px 16px rgba(0, 0, 0, 0.18), 0 3px 5px rgba(0, 0, 0, 0.33) !important;
  outline: 0.5px solid var(--arrowpanel-border-color) !important;
}
:root:not([lwtheme]) #urlbar[open] #urlbar-background,
:root:not([lwtheme]) #urlbar[open] .urlbar-background,
:root:not([lwtheme]) #urlbar[open] #searchbar {
  outline-color: var(--panel-separator-color) !important;
}

.urlbar-page-action,
#urlbar-go-button,
.search-go-button,
#tracking-protection-icon-container {
  padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
  width: calc(var(--uc-urlbar-icon-inline-padding) * 2 + 16px) !important;
}

/* Site information and Permissions buttons. */
#identity-icon-box,
#identity-permission-box,
.notification-anchor-icon {
  padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
}

/* Zoom level and tab container indicators. */
#userContext-icons,
#urlbar-zoom-button {
  padding-inline: var(--uc-urlbar-icon-inline-padding) !important;
  margin-block: 0 !important;
  margin-inline: 0 !important;
}

/* Move tracking protection button. */
#tracking-protection-icon-container,
#page-action-buttons {
  order: 2 !important;
}

/* Hide tracking protection button when not hovering over URL bar. */
.browser-toolbar:not(:hover) #tracking-protection-icon-container:not([open]) {
  visibility: collapse !important;
}

#page-action-buttons {
  order: 99;
}

#location-bar {
  order: 98;
}

#urlbar[breakout][breakout-extend] {
  margin-left: calc(-1 * var(--urlbar-margin-inline)) !important;
}
#urlbar[breakout][breakout-extend][unifiedsearchbutton-available] {
  /** 懒得研究为什么有 1px 的偏移，先用这个 hack 解决 */
  transform: translateX(var(--uc-urlbar-outline-offset)) !important;
}
#urlbar[breakout][breakout-extend][unifiedsearchbutton-available] #searchmode-switcher-dropmarker {
  transform: translateX(calc(-1 * var(--uc-urlbar-outline-offset))) !important;
}

.urlbarView-no-wrap {
  min-width: 0 !important;
}

.urlbarView-no-wrap > span:not([title], [label]):empty,
.urlbarView-url:not([title], [label]):empty {
  display: none;
}

.urlbarView-tags:empty {
  display: none !important;
}

/* show search query results that are only space/tab characters
by underlining them (requires urlbarMods.uc.js) */
.urlbarView-title[all-whitespace] {
  text-decoration: underline !important;
  color: var(--panel-shortcut-color);
}

:is(.urlbarView-row, .urlbarView-row-inner)[selected] .urlbarView-title[all-whitespace] {
  color: var(--panel-shortcut-focus);
}

#urlbar {
  /* fix weird bug with semitransparent background colors after bug 1948565.
  without it, buttons in panels are too bright when the arrowcontainer's
  max-width/max-height rule limits the panel's size */
  backface-visibility: hidden !important;
}

.urlbarView {
  /* temporarily give it a background to fix a bug from bug 1948565 */
  /*   background: var(--urlbar-results-bgcolor) !important;
  background-clip: content-box !important; */
  border: none !important;
  font-size: 1.04em !important;
}

.urlbarView .urlbarView-body-inner {
  border-top: none !important;
  margin: revert !important;
  width: revert !important;
}

/* Edge-Frfox - personalbar.css
 * https://github.com/bmFtZQ/edge-frfox */
/*
  MARK: Variables
*/
:root {
  --bookmark-block-padding: 6px !important;
  --bookmark-inline-padding: 6px !important;
  --bookmark-block-margin: 2px !important;
  --bookmark-inline-margin: 2px !important;
  --uc-bookmark-toolbar-padding-bottom: 2px;
  --bookmarks-toolbar-overlapping-browser-height: calc(var(--uc-bookmark-toolbar-padding-bottom) + 16px + (var(--bookmark-block-margin) + var(--bookmark-block-padding)) * 2) !important;
}
:root[uidensity=compact] {
  --bookmark-block-padding: 3px !important;
  --bookmark-inline-padding: 3px !important;
}

#PersonalToolbar {
  padding-bottom: var(--uc-bookmark-toolbar-padding-bottom) !important;
}

/*
  MARK: Bookmark items
*/
#personal-toolbar-empty-description,
#PersonalToolbar .toolbarbutton-1,
toolbarbutton.bookmark-item:not(.subviewbutton) {
  margin-block: var(--bookmark-block-margin) !important;
  margin-inline: var(--bookmark-inline-margin) !important;
  padding-block: var(--bookmark-block-padding) !important;
  padding-inline: var(--bookmark-inline-padding) !important;
  font-size: 12px !important;
  /* Adjust vertical label position on Windows */
}
@media (-moz-platform: windows) {
  #personal-toolbar-empty-description .toolbarbutton-text,
  #PersonalToolbar .toolbarbutton-1 .toolbarbutton-text,
  toolbarbutton.bookmark-item:not(.subviewbutton) .toolbarbutton-text {
    margin-block: -1px 0 !important;
  }
}

#PersonalToolbar .toolbarbutton-1 {
  padding: 0 !important;
}

/* Spacing between icon and label for bookmarks bar items */
#managed-bookmarks > .toolbarbutton-icon,
#bookmarks-toolbar-placeholder > .toolbarbutton-icon,
#PlacesToolbarItems > .bookmark-item > .toolbarbutton-icon[label]:not([label=""]),
#OtherBookmarks.bookmark-item[container] > .toolbarbutton-icon {
  margin-inline-end: 8px !important;
}

/* Sizing for bookmarks bar icons */
#PersonalToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  width: calc(2 * var(--bookmark-block-padding) + 16px) !important;
  height: calc(2 * var(--bookmark-block-padding) + 16px) !important;
  padding: var(--bookmark-block-padding) !important;
}

/*
  MARK: Separators
*/
#PlacesToolbarItems > toolbarseparator {
  padding-inline: calc(3px - var(--bookmark-inline-margin)) !important;
  align-items: center !important;
  /* Fractional scaling adjustments (150%, 175%, etc.) */
}
#PlacesToolbarItems > toolbarseparator::before {
  content: "";
  border-inline-start: 1px solid var(--toolbarseparator-color) !important;
  height: 16px !important;
  border-image: none !important;
}
@media (1dppx < resolution < 2dppx) {
  #PlacesToolbarItems > toolbarseparator::before {
    border-inline-start-width: 1.5px !important;
  }
}

/* Left and Right padding of bookmarks bar */
#PersonalToolbar {
  padding-inline: calc(var(--toolbar-start-end-padding) - 2px) calc(var(--toolbar-start-end-padding) + 4px) !important;
}

/********************************************************************************/
/* 参考:                                                                         */
/* https://github.com/QNetITQ/WaveFox                                           */
/********************************************************************************/
/*
  MARK: Findbar textbox
*/
.findbar-textbox {
  border: 0 !important;
  border-radius: var(--toolbarbutton-border-radius) !important;
  background-color: var(--toolbar-field-background-color) !important;
  /* Add shadow when in light mode with no theme applied, like the URL bar. */
}
:root:not([lwtheme]) .findbar-textbox {
  box-shadow: 0 0 4px light-dark(rgba(0, 0, 0, 0.1), transparent) !important;
}
.findbar-textbox:focus {
  outline-width: 2px !important;
  outline-offset: -1px !important;
}
.findbar-textbox[status=notfound] {
  outline: 2px solid var(--input-error-border-color, #E22850) !important;
  outline-offset: -1px !important;
}

/* Prevent focus outline from being cut off on the findbar textbox. */
.findbar-container {
  overflow-inline: visible !important;
  /* Add ability to drag window from empty space in the findbar. */
}
.findbar-container::after {
  content: "";
  flex: 1;
  align-self: stretch;
  margin-block: -6px;
  -moz-window-dragging: drag;
}

/*
  MARK: Findbar buttons
*/
.findbar-find-previous,
.findbar-find-next,
findbar .close-icon {
  border-radius: var(--toolbarbutton-border-radius) !important;
}
.findbar-find-previous:not([disabled]):hover,
.findbar-find-next:not([disabled]):hover,
findbar .close-icon:not([disabled]):hover {
  background-color: var(--toolbarbutton-hover-background, rgba(190, 190, 190, 0.2)) !important;
}
.findbar-find-previous:not([disabled]):hover:active,
.findbar-find-next:not([disabled]):hover:active,
findbar .close-icon:not([disabled]):hover:active {
  background-color: var(--toolbarbutton-active-background, rgba(190, 190, 190, 0.4)) !important;
}

findbar {
  border: none !important;
  margin-bottom: var(--uc-tweak-rounded-corners-padding, 0px) !important;
  background-color: transparent !important;
  padding-inline: var(--uc-tweak-rounded-corners-padding, 0px) !important;
}
findbar[hidden] {
  margin-bottom: calc(var(--uc-tweak-rounded-corners-padding, 0px) - 40px) !important;
}

/********************************************************************************/
/* 参考:                                                                         */
/* https://github.com/aris-t2/customcssforfx                                    */
/********************************************************************************/
:root menupopup,
:root panel {
  --popup-padding: var(--popup-padding-block) var(--popup-padding-inline);
  --menuitem-padding-inline: 12px;
  --menuitem-icon-gap: 8px;
  --menuitem-icon-size: 16px;
  --menuitem-text-padding-start: 0px;
  --menuitem-margin-inline: 0px;
  --menuitem-padding-start-without-icon: calc(var(--menuitem-padding-inline) + var(--menuitem-icon-size) + var(--menuitem-icon-gap) + var(--menuitem-text-padding-start));
  --panel-dimmed: color-mix(in srgb, currentColor 17%, transparent) !important;
  --panel-dimmed-further: color-mix(in srgb, currentColor 30%, transparent) !important;
  --panel-border-radius: 6px;
  --panel-list-border-radius: 4px;
  --panel-border: 1px solid var(--arrowpanel-border-color);
  --panel-margin-block: 4px;
  --panel-margin-inline: 4px;
  --panel-shadow: 0 1px 2px 1px rgba(0, 0, 0, .1),
  0 1px 5px -3px rgba(0, 0, 0, .1),
  0 6px 10px 1px rgba(0, 0, 0, .1),
  0 4px 12px 2px rgba(0, 0, 0, .1);
}
@media not -moz-pref("widget.windows.mica.popups", 2) {
  :root menupopup,
  :root panel {
    --panel-background: Field !important;
    --panel-background: light-dark(#fff, #353d49) !important;
    --panel-color: light-dark(#1c1c1c, #fff) !important;
  }
}

/** 显示 addMenu 菜单图标 */
:is(#contentAreaContextMenu, #tabContextMenu)[photoncompact=true]:not([needsgutter]) > .addMenu:is(menu, menuitem) > :is(.menu-iconic-left, .menu-icon),
:is(#contentAreaContextMenu, #tabContextMenu)[photoncompact=true]:not([needsgutter]) > menugroup.addMenu > .addMenu.showText > :is(.menu-iconic-left, .menu-icon),
:is(#contentAreaContextMenu, #tabContextMenu)[photoncompact=true]:not([needsgutter]) > menugroup.addMenu.showText > .addMenu > :is(.menu-iconic-left, .menu-icon),
:is(#contentAreaContextMenu, #tabContextMenu)[photoncompact=true]:not([needsgutter]) > menugroup.addMenu.showFirstText > .menuitem-iconic:first-child > :is(.menu-iconic-left, .menu-icon),
#tabContextMenu[photoncompact=true] #OpenWithHelper-Tab-Menu > :is(.menu-iconic-left, .menu-icon) {
  visibility: visible !important;
  display: flex !important;
}

panelview {
  --panel-subview-body-padding: 0px;
  padding: 4px !important;
}
panelview .panel-subview-footer-button {
  margin-bottom: 0 !important;
}

/* 调整缩进 */
.subviewbutton > .toolbarbutton-icon {
  width: var(--menuitem-icon-size) !important;
  height: var(--menuitem-icon-size) !important;
  margin-inline-end: var(--menuitem-icon-gap) !important;
  padding-inline-end: 0 !important;
}
.subviewbutton > .toolbarbutton-text {
  margin-inline-start: 0 !important;
  padding-inline-start: var(--menuitem-text-padding-start) !important;
}
.subviewbutton:has(> image) {
  /* 我他妈怎么知道有的 subviewbutton 有 .toolbarbutton-icon 和 .toolbarbutton-text, 有的没有 */
}
.subviewbutton:has(> image) > image {
  width: var(--menuitem-icon-size) !important;
  height: var(--menuitem-icon-size) !important;
  margin-inline-end: var(--menuitem-icon-gap) !important;
}
.subviewbutton:has(> image) > label {
  padding-inline-start: var(--menuitem-text-padding-start) !important;
}

#unified-extensions-panel .unified-extensions-item .subviewbutton > .toolbarbutton-icon {
  --arrowpanel-menuitem-padding-inline: 4px;
  --arrowpanel-menuitem-padding-block: 4px;
  padding-inline-end: var(--arrowpanel-menuitem-padding-inline) !important;
}
#unified-extensions-panel .unified-extensions-item-row-wrapper > [class^=unified-extensions-item][data-extensionid] {
  padding-inline: var(--arrowpanel-menuitem-padding-inline) !important;
}

:not(#appMenu-zoom-controls) > .subviewbutton:not(#appMenu-fxa-status2) {
  margin-inline: var(--menuitem-margin-inline) !important;
}

#fxa-manage-account-button > vbox > label,
#PanelUI-fxa-menu-syncnow-button > hbox > label,
#PanelUI-remotetabs-syncnow > hbox > label,
#appMenu-fxa-label2 > vbox > label {
  padding-inline-start: var(--menuitem-text-padding-start) !important;
}

.syncNowBtn {
  visibility: visible !important;
}

#PanelUI-fxa-menu-syncnow-button > hbox > image {
  order: 0 !important;
  width: var(--menuitem-icon-size) !important;
  height: var(--menuitem-icon-size) !important;
  margin-inline-end: var(--menuitem-icon-gap) !important;
  padding-inline-end: 0 !important;
}

#appMenu-zoom-controls::before,
#appMenu-fxa-status2:not([fxastatus=signedin], [fxastatus=unverified], [fxastatus=login-failed])::before,
#appMenu-fxa-status2:is([fxastatus=signedin], [fxastatus=unverified], [fxastatus=login-failed]) > #appMenu-fxa-label2::before,
#fxa-manage-account-button::before {
  content: "";
  display: flex;
  width: var(--menuitem-icon-size) !important;
  height: var(--menuitem-icon-size) !important;
  mask-image: var(--menuitem-image) !important;
  mask-size: var(--menuitem-icon-size) !important;
  mask-repeat: no-repeat !important;
  mask-position: center !important;
  fill: var(--menuitem-fill, currentColor) !important;
  margin-inline-end: var(--menuitem-icon-gap) !important;
}

#appMenu-fxa-status2:not([fxastatus=signedin], [fxastatus=unverified], [fxastatus=login-failed]) {
  margin-inline: 0 !important;
}

@media (-moz-platform: windows) and (-moz-windows-non-native-menus) {
  .menu-right {
    margin-inline-end: 0 !important;
    list-style-image: none !important;
  }
}
@media (-moz-platform: windows) {
  #main-menubar > menu {
    --menuitem-padding-inline: 12px;
    --menuitem-border-radius: 3px;
  }
  :root[uidensity=compact] #main-menubar > menu {
    --menuitem-padding-inline: 8px;
  }
  menupopup[needsgutter] menu:not([icon], .menu-iconic),
  menupopup[needsgutter] menuitem:not([checked=true], [icon], .menuitem-iconic) {
    padding-inline-start: var(--menuitem-padding-inline) !important;
  }
  menu,
  menuitem {
    margin-inline: var(--menuitem-margin-inline) !important;
  }
  menupopup:not(.in-menulist) > :is(menu, menuitem):has(> :is(.menu-icon, .menu-iconic-left)) {
    padding-inline: var(--menuitem-padding-inline) !important;
  }
  menupopup:not(.in-menulist) > :is(menu, menuitem):not(:has(> :is(.menu-icon, .menu-iconic-left))):before {
    content: "";
    display: flex;
    width: var(--menuitem-icon-size);
    height: var(--menuitem-icon-size);
    mask-image: var(--menuitem-image);
    mask-size: var(--menuitem-icon-size);
    mask-repeat: no-repeat;
    mask-position: center;
    fill: var(--menuitem-fill, currentColor);
    margin-inline-end: var(--menuitem-icon-gap);
  }
  menupopup:not(.in-menulist) > :is(menu, menuitem):not([id^=firefoxbeta_tampermonkey_net]) > :is(.menu-icon, .menu-iconic-left),
  #firefoxbeta_tampermonkey_net-menuitem-_root > :is(.menu-icon, .menu-iconic-left) {
    display: inline-flex !important;
    width: var(--menuitem-icon-size) !important;
    height: var(--menuitem-icon-size) !important;
    margin-inline-end: var(--menuitem-icon-gap) !important;
  }
  menupopup:not(.in-menulist) > :is(menu, menuitem):not([id^=firefoxbeta_tampermonkey_net]) > :is(.menu-text, .menu-iconic-text),
  #firefoxbeta_tampermonkey_net-menuitem-_root > :is(.menu-text, .menu-iconic-text) {
    padding-inline-start: var(--menuitem-text-padding-start) !important;
  }
  toolbarseparator {
    margin-inline: 0 !important;
  }
}
/* 颜色 */
menupopup,
panel[type=autocomplete-richlistbox],
menulist > menupopup > menucaption {
  -moz-window-shadow: none !important;
  background: 0 !important;
  border: 0 !important;
  color: var(--panel-color) !important;
  box-sizing: content-box !important;
  color: inherit !important;
}

.panel-arrowcontent {
  background: 0 !important;
  padding: 0 !important;
  box-shadow: none !important;
  font: -moz-pull-down-menu !important;
  border: 0 !important;
}

@media (prefers-color-scheme: dark) {
  /* 深色模式菜单背景颜色 */
  panel[type=autocomplete-richlistbox],
  .menupopup-arrowscrollbox {
    background-color: #353d49 !important;
  }
}
/* 圆角 */
menupopup,
.menupopup-arrowscrollbox {
  border-radius: var(--panel-border-radius) !important;
}

/* themes a menupopup (or other root level / shadow dom popup) as a panel */
/* Mozilla's use of shadow dom means we can't use a menupopup > .popup-internal-box */
.popup-internal-box,
#PopupAutoComplete > *,
.menupopup-arrowscrollbox {
  background: var(--panel-background) !important;
  border-radius: var(--panel-border-radius) !important;
  border: 1px solid transparent !important;
  padding: 4px !important;
}
@media (-moz-pref("widget.windows.mica")) {
  .popup-internal-box,
  #PopupAutoComplete > *,
  .menupopup-arrowscrollbox {
    border: 0 !important;
  }
}

#PopupSearchAutoComplete > * {
  border-radius: 0 !important;
}

#PopupSearchAutoComplete > :first-child {
  border-radius: var(--panel-list-border-radius) var(--panel-list-border-radius) 0 0 !important;
}

#PopupSearchAutoComplete > :last-child {
  border-radius: 0 0 var(--panel-list-border-radius) var(--panel-list-border-radius) !important;
}

/* autocomplete panel can't overlap the textbox, so shadow can't go up
   more than 1px */
panel[type=autocomplete-richlistbox] > .autocomplete-richlistbox {
  box-shadow: var(--panel-shadow) !important;
  border: var(--panel-border) !important;
}

/* search panel gets special treatment; it has multiple children */
#PopupSearchAutoComplete > .autocomplete-richlistbox {
  box-shadow: none !important;
}

#PopupSearchAutoComplete {
  filter: drop-shadow(0 8px 6px rgba(0, 0, 0, 0.25)) drop-shadow(0 1px 1px rgba(0, 0, 0, 0.125)) !important;
}

/* reset non-layout props when embedded in a panel
   (panel handles panel theming in this case) */
.panel-arrowcontent > .popup-internal-box {
  background: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* shotgun approach to undo this selector...
   #BMB_bookmarksPopup menupopup[placespopup="true"]:-moz-lwtheme::part(innerbox)
   ...without being able to use ::part() in userChrome.css */
[part=innerbox] {
  box-shadow: none !important;
  margin: 0 !important;
}

.autocomplete-richlistitem {
  height: 30px !important;
  border: 0 !important;
  color: inherit !important;
  fill-opacity: initial !important;
}
:root[uidensity=compact] .autocomplete-richlistitem {
  height: 26px !important;
}

menupopup :is(menu, menuitem) {
  height: 30px !important;
}
:root[uidensity=compact] menupopup :is(menu, menuitem) {
  height: 26px !important;
}

/* 修复输入框下拉菜单选中样式 */
.autocomplete-richlistitem[selected] {
  color: #ffffff !important;
}

menupopup menu[_moz-menuactive=true],
menupopup menuitem[_moz-menuactive=true],
menupopup menuitem:hover:not([disabled=true]),
menupopup menu:hover:not([disabled=true]),
.autocomplete-richlistitem:hover:not([disabled=true]):not([selected=true]) {
  background-color: var(--panel-dimmed) !important;
}

/* disable vertical menu scroll buttons and use a good ol' scrollbar */
/* this is a shotgun approach, expect side effects */
scrollbox[orient=vertical] {
  overflow-y: auto !important;
}

/* this is a bit depressing... */
/* work around lack of ::part selector support */
:root {
  --scrollbutton-display: -moz-box !important;
}

.menuitem-iconic:not([data-usercontextid]),
.menu-iconic-icon,
:not([data-usercontextid]) > .menu-icon {
  fill: currentColor !important;
  -moz-context-properties: fill, fill-opacity, stroke, stroke-opacity !important;
}